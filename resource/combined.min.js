var RecaptchaOptions={theme:"custom",custom_theme_widget:"recaptcha_widget"};function getParameterByName(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?&]"+a+"=([^&#]*)").exec(window.location.href);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))}
$().ready(function(){Placeholder.init({wait:!0});var a=$("#header ul#more").outerHeight(!0);$("#header li#moreContainer").outerHeight(!0);var b=!1,c={},d=$(".field input[name=username]").siblings("span").html();$(".field.fail")&&$(".field.fail:first").children("input").focus();$("html").click(function(){!0==b&&($("#header li#moreContainer").attr("style","").removeClass("on"),b=!1);$("body").hasClass("inline-login")&&$("body").removeClass("inline-login");$("body").hasClass("highlight-banners")&&$("body").removeClass("highlight-banners")});
$("#header li#moreContainer").click(function(j){j.stopPropagation();!1==b?($(this).css("height",a).addClass("on"),b=!0):!0==b&&($(this).attr("style","").removeClass("on"),b=!1)});$("#header ul#more a").click(function(a){a.stopPropagation();document.location=$(this).attr("href")});var e=$("#login-menu"),f=$("#login-menu .popover"),h=$("#login-menu .popover-direction"),g=$("#login-menu > a"),k=$("#login-menu .popover a");g.click(function(a){a.preventDefault();a.stopPropagation();$(this).siblings(".popover").toggleClass("visible").children("input")[0].focus()});
k.click(function(){});f.click(function(a){a.stopPropagation()});$("body").click(function(){f.hasClass("visible")&&f.removeClass("visible")});g=function(){var a=e.outerWidth();e.position();var b=f.outerWidth(),c=e.position().left,d=h.outerWidth(),g=$("body").innerWidth();f.css("right",(a-b)/2);h.css("right",(a-d)/2);c+b>g&&(a=parseInt(f.css("right"))+(c+b-g),0<=a&&(a=0),f.css("right",a))};g();window.onresize=g;$(".field input").focusin(function(){$(".description").css("visibility","hidden");$(this).siblings(".description").css("visibility",
"visible")});$(".field.noedit p").click(function(){$(this).siblings(".description").css("visibility","visible")}).mouseout(function(){$(this).siblings(".description").css("visibility","hidden")});"visible"!=$(".field input:focus").siblings(".description").css("visibility")&&$(".field input:focus").siblings(".description").css("visibility","visible");$(".field input[name=username]").keyup(function(){var a=this,b=$(this).val();clearTimeout(c);b?c=setTimeout(function(){$.ajax({url:"/checkuser/"+b,error:function(){},
success:function(c){c=$.parseJSON(c);c.illegal?$(a).parent().addClass("fail").children("span.description").html("Illegal username specified. Usernames can contain numbers and letters."):(c.exists||($(a).parent().hasClass("fail")&&$(a).parent().removeClass("fail"),$(a).parent().addClass("valid").children("span.description").html('<span class="validtext">"'+b+'" is available!</span>')),c.exists&&$(a).parent().addClass("fail").children("span.description").html('<span class="failtext">"'+b+'" is already taken.</span>'))}})},
500):$(this).siblings("span").html(d)});$("#redirect-to").attr("value",getParameterByName("destination"));var i=function(){var a=$(this).prev().clone(!0);a.children("label")&&a.children("label").detach();a.hasClass("fail")&&a.removeClass("fail");a.children("input").attr("value","");a.insertBefore(this).children("input").focus()};$(".multi-field .field.next").focusin(i);$(".multi-field .field input").focusout(function(){numberOfFields=$(".multi-field .field").not(".next").length;if(1<numberOfFields&&
!$(this).attr("value")){if(0<$(this).parent().has("label").length)var a=$(this).parent().children("label");$(this).parent().detach();a&&a.prependTo(".multi-field .field:first-child")}else 1==numberOfFields&&!$(this).attr("value")&&$(".multi-field .field.next").detach()});$(".multi-field .field:first-child").keydown(function(){if($(this).children("input").attr("value")&&1==$(".multi-field .field").length){var a=$(this).clone(!0);a.children("label")&&a.children("label").detach();a.addClass("next").children("input").attr("value",
"Next\u2026").attr("name","").siblings(".description").css("visibility","hidden");a.focusin(i);a.insertAfter(this)}})});Placeholder={defaultSettings:{normal:"#000000",placeholder:"#C0C0C0",wait:!1,classFocus:"",classBlur:""},init:function(a){if(a)for(var b in a)Placeholder.defaultSettings[b]=a[b];a=textareas=document.getElementsByClassName("use-placeholder");a=Placeholder.utils.concat(a,textareas);for(b=0;b<a.length;b++){var c=a[b].getAttribute("placeholder");if(c&&"text"==a[b].type||"password"==a[b].type||"textarea"==a[b].type){var d=a[b];d.onclick=function(){Placeholder.onSelected(this)};d.onfocus=function(){};d.onblur=
function(){Placeholder.unSelected(this)};if(Placeholder.defaultSettings.wait)d.onkeypress=function(){Placeholder.onType(this)};Placeholder.style.inactive(d);d.value=c;for(var c=document.getElementsByTagName("form"),e=0;e<c.length;e++)if(c[e]&&Placeholder.utils.contains(c[e].children,d))c[e].onsubmit=function(){Placeholder.submitted(this)}}}},onSelected:function(a){if(!0==Placeholder.defaultSettings.wait)a.value==a.getAttribute("placeholder")&&Placeholder.utils.caret(a);else{if(a.value==a.getAttribute("placeholder"))a.value=
"";Placeholder.style.normal(a)}},onType:function(a){var b=a.getAttribute("placeholder");a.value=a.value.replace(b,"");0>=a.value.length?(Placeholder.style.inactive(a),a.value=b,Placeholder.utils.caret(a)):Placeholder.style.normal(a)},unSelected:function(a){if(0>=a.value.length)Placeholder.style.inactive(a),a.value=a.getAttribute("placeholder")},submitted:function(a){for(var a=a.children,b=0;b<a.length;b++)if(a[b]){var c=a[b];if(("input"==c.tagName.toLowerCase()||"textarea"==c.tagName.toLowerCase())&&
c.value==c.getAttribute("placeholder"))c.value=""}},style:{normal:function(a){Placeholder.defaultSettings.classFocus?a.className=Placeholder.defaultSettings.classFocus:a.style.color=Placeholder.defaultSettings.normal},inactive:function(a){Placeholder.defaultSettings.classBlur?a.className=Placeholder.defaultSettings.classBlur:a.style.color=Placeholder.defaultSettings.placeholder}},utils:{contains:function(a,b){for(var c=0;c<a.length;c++)if(a[c]&&a[c]==b)return!0;return!1},concat:function(a,b){for(var c=
[],d=0;d<a.length;d++)a[d]&&c.push(a[d]);for(d=0;d<b.length;d++)b[d]&&c.push(b[d]);return c},caret:function(a){a.setSelectionRange?(a.focus(),a.setSelectionRange(0,0)):a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),a.moveEnd("character",0),a.moveStart("character",0),a.select())}}};